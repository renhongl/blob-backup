{"compress":true,"commitItems":[["a7c2ec4f-c6a7-44a2-a594-e99ab9830b51",1548833977325,"\n---\ntitle: Iterator和for...of\ndate: 2017-06-16 20:29:38\ntags: ES6\n---\n\n\n\n## Iterator 和 for...of循环\n\n### Iterator（遍历器）\n\n为各种不同的数据结构提供统一的访问机制。\n\n任何数据结构只要部署了Iterator接口，就可以完成遍历操作。\n\n遍历操作：依次处理该数据结构的所有成员。\n\n<!--more-->\n\n\n### 遍历过程\n\n1. 创建一个指针对象，指向当前数据结构的起始位置。\n\n2. 第一次调用指针对象的next方法，可以将指针指向数据结构的第一个成员。\n\n3. 第二次调用指针对象的next方法，可以将指针指向数据结构的第二个成员。\n\n4. 不断调用指针对象的next方法，直到它指向数据结构的结束位置。\n\n   ​\n\n### for...of循环\n\n使用for...of循环遍历某种数据结构时，该循环会自动寻找这种数据结构默认的遍历器接口。\n\n默认的遍历器接口部署在数据结构的Symbol.iterator属性上。\n\n即只要一个数据结构具有Symbol.iterator属性，就认为是可遍历的(iterable)。\n\nSymbol.iterator属性是一个函数，执行这个函数会返回一个遍历器。\n\n\n\n### 原生具备Iterator接口的数据结构\n\n* Array\n* Map\n* Set\n* String\n* TypedArray\n* arguments\n* NodeList\n\n\n\n### 除了for...of，其他会调用默认遍历器接口的情况\n\n1. 结构赋值\n2. 扩展运算符\n3. yield*\n4. Array.from()\n5. Map(), Set(), WeakMap(), WeakSet()\n6. Promise.all()\n7. Promise.race()\n\n\n\n### Iterator接口最简单实现\n\n为Symbol.iterator创建一个Generator函数。",[[1548833975954,["P1211678@NCS-100918JJ01",[[-1,0,"\n"]],[1,1],[0,0]]],[1548833989311,["P1211678@NCS-100918JJ01",[[-1,73,"#"]],[74,74],[73,73]]],[1548833990385,["P1211678@NCS-100918JJ01",[[-1,98,"##"]],[100,100],[98,98]]],[1548833997447,["P1211678@NCS-100918JJ01",[[-1,72,"# Iterator 和 for...of循环"]],[72,95],[72,72]]],[1548833997741,["P1211678@NCS-100918JJ01",[[-1,73,"\n"]],[72,72],[71,71]]],[1548833998056,["P1211678@NCS-100918JJ01",[[-1,72,"\n"]],[71,71],[70,70]]],[1548833998383,["P1211678@NCS-100918JJ01",[[-1,71,"\n"]],[70,70],[69,69]]],[1548834002813,["P1211678@NCS-100918JJ01",[[-1,166,"<!--more-->"]],[166,177],[166,166]]],[1548834011340,["P1211678@NCS-100918JJ01",[[-1,170,"##"]],[170,172],[170,170]]],[1548834017869,["P1211678@NCS-100918JJ01",[[-1,328,"##"]],[328,330],[328,328]]],[1548834023060,["P1211678@NCS-100918JJ01",[[-1,518,"##"]],[518,520],[518,518]]],[1548835547153,["P1211678@NCS-100918JJ01",[[-1,609,"##"]],[609,611],[609,609]]],[1548835552179,["P1211678@NCS-100918JJ01",[[-1,758,"##"]],[758,760],[758,758]]]],null,"P1211678@NCS-100918JJ01"]]}